<style>
body {
  position: absolute;
  margin: 0;
  min-height: 100%;
  width: 100%;
}

footer {
  position: absolute;
  right: 0;
  bottom: 0;
  left: 0;
}
</style>

<footer>
    <div class="container">
        <div class="row">
            <div class="col-md-4">
                <span class="copyright">Â© {{ 'now' | date: "%Y" }} <a href="https://github.com/melvinchng/event-jekyll-theme">Event Jekyll Theme</a> by <a href="http://melvinchng.github.io">Melvin Ch'ng</a>,<br>All Rights Reserved.</span>
            </div>
            <div class="col-md-4">
                <ul class="list-inline social-buttons">
                    {% for network in site.social %}
                        <li><a href="{{ network.url }}"><i class="fa fa-{{ network.title }}"></i></a></li>
                    {% endfor %}
                </ul>
            </div>
        </div>
    </div>
</footer>
<script src="https://cdn.jsdelivr.net/gh/JerryI/wljs-interpreter@main/src/interpreter.js"></script>
<script src="https://cdn.jsdelivr.net/gh/JerryI/wljs-interpreter@main/src/core.js"></script>

<script src="json/curves.js"></script>

<script type="module" src="wljs-graphics-d3/dist/kernel.js">
</script>

<script type="module">
    let local = {};
    let global = {};
    let env = {
        element: document.getElementById("background-svg"),
        local: local,
        global: global,
    }
    


    const introText = document.getElementsByClassName("intro-heading")[0];
    const introSubText = document.getElementsByClassName("intro-lead-in")[0];
    const button = document.getElementsByClassName('btn-xl')[0];

    const lines = ['List'];
    logo.forEach((el, i)=>{
        let ob =  new ObjectStorage('curve-'+i); ob.cached = true; ob.cache = el;
        lines.push(colors[i]);
        lines.push(["Line",["FrontEndRef","'curve-"+i+"'"]]);
    });

    const updateFunction = (datum) => {
        const list = ['List'];
        datum.forEach((el, i)=>{
            list.push(["SetFrontEndObject", "'curve-"+i+"'", el]);
        });
        return list        
    }
    
    interpretate(["Graphics",lines,["Rule", "TransitionDuration", 0],["Rule","PlotRange",["List",["List",2.147179628174854,1.8977957779174444e3],["List",-1.2351846164082956e3,-1.4848992690133628e1]]],["Rule","ViewBox",["List",-200,0,900,320]]], env);
    setTimeout(()=>{

        interpretate(updateFunction(piter));


        introSubText.style.opacity = 1;
        button.style.opacity = 1;

        setInterval(repeat, 6000);
    }, 1500);

    setTimeout(()=>{
        introSubText.style.opacity = 1;
        button.style.opacity = 1;
    }, 100);    

    introText.style.opacity = 1;

    let state = false;

    

    function repeat() {
        if (state) {

            interpretate(updateFunction(piter));
        } else {
   
            interpretate(updateFunction(logo));
        }

        state = !state;
    }

    
</script>
